<!-- flexicon  -->
<table class="flexicon">
  <tr class="flex-cont row">
    <td class="icons" (click)="getUser(viewModal, false)">
      <img
        class="flexicon-image img-responsive"
        src="../../../assets/img/web.svg"
      /><a>View</a>
    </td>
    <td class="icons" (click)="addModal.show()">
      <img
        class="flexicon-image img-responsive"
        src="../../../assets/img/ui.svg"
      /><a>Add</a>
    </td>
    <td class="icons" (click)="getUser(addModal, true)">
      <img
        class="flexicon-image img-responsive"
        src="../../../assets/img/archive.svg"
      /><a>Edit</a>
    </td>
    <td class="icons" (click)="deleteUser()">
      <img
        class="flexicon-image img-responsive"
        src="../../../assets/img/rubbish-can.svg"
      /><a>Delete</a>
    </td>

    <td class="icons">
      <img class="flexicon-image" src="../../../assets/img/arrows.svg" /><a
        >Import</a
      >
    </td>
    <td class="icons">
      <img class="flexicon-image" src="../../../assets/img/arrows (1).svg" /><a
        >Export</a
      >
    </td>
  </tr>
</table>
<br />
<!-- table -->
<div class="table-responsive">
  <table class="table table-striped table-hover mb-0">
    <!--Table head-->
    <thead>
      <tr style="text-align: center">
        <th>
          <div class="custom-control custom-checkbox">
            <input
              type="checkbox"
              class="checkbox-style"
              id="tableDefaultCheck2"
              (change)="checkAll()"
              [(ngModel)]="masterSelected"
            />
          </div>
        </th>
        <th class="th-md">S/N</th>

        <th class="th-md">
          <a (click)="sortBy('User_id')"
            >User ID
            <i class="fa fa-sort ml-1"></i>
          </a>
        </th>

        <th class="th-md">
          <a (click)="sortBy('merchant_id')"
            >Username
            <i class="fa fa-sort ml-1"></i>
          </a>
        </th>

        <th class="th-md">
          <a (click)="sortBy('printer_status')"
            >Email
            <i class="fa fa-sort ml-1"></i>
          </a>
        </th>
        <th class="th-md">
          <a (click)="sortBy('printer_status')"
            >Company Name
            <i class="fa fa-sort ml-1"></i>
          </a>
        </th>
        <th class="th-md">
          <a (click)="sortBy('printer_status')"
            >Role
            <i class="fa fa-sort ml-1"></i>
          </a>
        </th>
        <th class="th-md">
          <a (click)="sortBy('printer_status')"
            >Last logged in
            <i class="fa fa-sort ml-1"></i>
          </a>
        </th>
        <th class="th-md">
          <a (click)="sortBy('printer_status')"
            >Created At
            <i class="fa fa-sort ml-1"></i>
          </a>
        </th>
        <th class="th-md">
          <a (click)="sortBy('printer_status')"
            >Updated At
            <i class="fa fa-sort ml-1"></i>
          </a>
        </th>
      </tr>
    </thead>

    <!--Table body-->
    <tbody>
      <tr *ngFor="let row of users; let i = index" style="text-align: center">
        <td>
          <div class="custom-control custom-checkbox">
            <input
              type="checkbox"
              class="checkbox-style"
              [(ngModel)]="row.isSelected"
              (change)="getUnassigned(row.isSelected, row.id)"
            />
            <!-- <label class="custom-control-label" for="tableDefaultCheck2">Check 2</label> -->
          </div>
          <!-- <input type="checkbox" [(ngModel)]="row.isSelected" (change)="getUnassigned(row.isSelected, row.serialNumber)">  -->
        </td>

        <td>{{ serial + i }}</td>
        <td>{{ row.id }}</td>
        <td>{{ row.username }}</td>
        <td>{{ row.email }}</td>
        <td>{{ row.companyName }}</td>
        <td>{{ row.role }}</td>
        <td>{{ row.lastLoggedIn }}</td>
        <td>{{ row.createdAt }}</td>
        <td>{{ row.updatedAt }}</td>
      </tr>
    </tbody>

    <!--Table body-->
    <tbody *ngIf="isData == false; else gettingData">
      <tr>
        <td colspan="15" style="text-align: center; padding: 5% 20%">
          <strong>No Data Available</strong>
        </td>
      </tr>
    </tbody>
    <ng-template #gettingData>
      <tbody *ngIf="isData == undefined">
        <tr>
          <td colspan="15" style="text-align: center; padding: 5% 20%">
            <mdb-spinner spinnerColor="blue"></mdb-spinner>
          </td>
        </tr>
      </tbody>
    </ng-template>
  </table>
</div>

<!-- view User modal -->
<div
  mdbModal
  #viewModal="mdbModal"
  class="modal fade"
  style="overflow: auto"
  tabindex="-1"
  role="dialog"
  aria-labelledby="myBasicModalLabel"
  aria-hidden="true"
  [config]="{ backdrop: true, ignoreBackdropClick: false }"
>
  <div
    class="modal-dialog modal-dialog-scrollable wider modal-fluid"
    role="document"
    *ngIf="user"
  >
    <div class="modal-content" *ngIf="user">
      <div class="modal-header">
        <div class="header">
          <p>View User</p>
        </div>
        <div>
          <button
            type="button"
            class="btn btn-uc btn-sm waves-light"
            aria-label="Close"
            data-dismiss="modal"
            style="
              color: red !important;
              background-color: white !important;

              font-size: 13px;
              font-weight: bold;
              display: flex;
              text-align: center;
              border: 1px solid !important;
            "
            (click)="viewModal.hide()"
            mdbWavesEffect
          >
            <i
              class="fas fa-times"
              style="text-align: center; align-self: center"
            ></i>
          </button>
        </div>
      </div>

      <!-- modal head -->

      <br />
      <!-- modal body -->
      <div class="modal-body">
        <div class="table-responsive">
          <div class="row">
            <!--first column-->
            <div class="col-lg-6">
              <div class="py-1">
                <div class="row input-style">
                  <p class="col-lg-6 no-change m-0 title col-4">User ID</p>
                  <p class="col-lg-6 no-change m-0 subtitle col-8">
                    {{ users[0].id }}
                  </p>
                </div>
              </div>
              <br />
              <div class="py-1">
                <div class="row input-style">
                  <p class="col-lg-6 no-change m-0 title col-4">Username</p>
                  <p class="col-lg-6 no-change m-0 subtitle col-8">
                    {{ users[0].username }}
                  </p>
                </div>
              </div>
              <br />
              <div class="py-1">
                <div class="row input-style">
                  <p class="col-lg-6 no-change m-0 title col-4">Email</p>
                  <p class="col-lg-6 no-change m-0 subtitle col-8">
                    {{ users[0].email }}
                  </p>
                </div>
              </div>
              <br />
              <div class="py-1">
                <div class="row input-style">
                  <p class="col-lg-6 no-change m-0 title col-4">Fax</p>
                  <p class="col-lg-6 no-change m-0 subtitle col-8">
                    {{ users[0].companyName }}
                  </p>
                </div>
              </div>
              <br />
              <div class="py-1">
                <div class="row input-style">
                  <p class="col-lg-6 no-change m-0 title col-4">Description</p>
                  <p class="col-lg-6 no-change m-0 subtitle col-8">
                    {{ users[0].role }}
                  </p>
                </div>
              </div>
              <br />
              <div class="py-1">
                <div class="row input-style">
                  <p class="col-lg-6 no-change m-0 title col-4">Description</p>
                  <p class="col-lg-6 no-change m-0 subtitle col-8">
                    {{ users[0].archived }}
                  </p>
                </div>
              </div>
              <br />
              <div class="py-1">
                <div class="row input-style">
                  <p class="col-lg-6 no-change m-0 title col-4">Description</p>
                  <p class="col-lg-6 no-change m-0 subtitle col-8">
                    {{ users[0].status }}
                  </p>
                </div>
              </div>
              <br />
              <div class="py-1">
                <div class="row input-style">
                  <p class="col-lg-6 no-change m-0 title col-4">Description</p>
                  <p class="col-lg-6 no-change m-0 subtitle col-8">
                    {{ users[0].lastLoggedIn }}
                  </p>
                </div>
              </div>
              <br />
              <div class="py-1">
                <div class="row input-style">
                  <p class="col-lg-6 no-change m-0 title col-4">Created At</p>
                  <p class="col-lg-6 no-change m-0 subtitle col-8">
                    {{ users[0].createdAt }}
                  </p>
                </div>
              </div>
              <br />
              <div class="py-1">
                <div class="row input-style">
                  <p class="col-lg-6 no-change m-0 title col-4">Updated At</p>
                  <p class="col-lg-6 no-change m-0 subtitle col-8">
                    {{ users[0].updatedAt }}
                  </p>
                </div>
              </div>
              <br />

              <br />
            </div>
          </div>
        </div>
      </div>
      <hr />
      <!-- modal footer -->
      <div class="modal-footer">
        <div class="buttons">
          <button type="button" class="btn done-btn" (click)="viewModal.hide()">
            Done
          </button>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- add & edit User modal -->
<div
  mdbModal
  #addModal="mdbModal"
  class="modal fade"
  style="overflow: auto"
  tabindex="-1"
  role="dialog"
  aria-labelledby="myBasicModalLabel"
  aria-hidden="true"
  [config]="{ backdrop: true, ignoreBackdropClick: false }"
>
  <div class="modal-dialog modal-dialog-scrollable modal-fluid" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <div class="header">
          <p *ngIf="!edit">Add User</p>
          <p *ngIf="edit">Edit User</p>
        </div>
        <div>
          <button
            type="button"
            class="btn btn-uc btn-sm waves-light"
            aria-label="Close"
            data-dismiss="modal"
            style="
              color: red !important;
              background-color: white !important;

              font-size: 13px;
              font-weight: bold;
              display: flex;
              text-align: center;
              border: 1px solid !important;
            "
            (click)="addModal.hide()"
            mdbWavesEffect
          >
            <i
              class="fas fa-times"
              style="text-align: center; align-self: center"
            ></i>
          </button>
        </div>
      </div>
      <!-- modal body -->
      <div class="modal-body">
        <div class="table-responsive">
          <div class="row">
            <div class="col-lg-6">
              <br />
              <div class="py-1">
                <div class="row input-style">
                  <p class="col-lg-6 no-change m-0 title col-4 p-input-style">
                    User ID
                  </p>
                  <input
                    class="col-lg-8 form-control my-0 py-0"
                    [ngModelOptions]="{ standalone: true }"
                    ngDefaultControl
                    [(ngModel)]="userId"
                    name="userId"
                    type="text"
                  />
                </div>
              </div>
              <br />
              <div class="py-1">
                <div class="row input-style">
                  <p class="col-lg-6 no-change m-0 title col-4 p-input-style">
                    Username
                  </p>
                  <input
                    class="col-lg-8 form-control my-0 py-0"
                    [ngModelOptions]="{ standalone: true }"
                    ngDefaultControl
                    [(ngModel)]="username"
                    name="username"
                    type="text"
                  />
                </div>
              </div>
              <br />
              <div class="py-1">
                <div class="row input-style">
                  <p class="col-lg-6 no-change m-0 title col-4 p-input-style">
                    Email
                  </p>
                  <input
                    class="col-lg-8 form-control my-0 py-0"
                    [ngModelOptions]="{ standalone: true }"
                    ngDefaultControl
                    [(ngModel)]="email"
                    name="email"
                    type="text"
                  />
                </div>
              </div>
              <br />
              <div class="py-1">
                <div class="row input-style">
                  <p class="col-lg-6 no-change m-0 title col-4 p-input-style">
                    Company Name
                  </p>
                  <input
                    class="col-lg-8 form-control my-0 py-0"
                    [ngModelOptions]="{ standalone: true }"
                    ngDefaultControl
                    [(ngModel)]="companyName"
                    name="companyName"
                    value="companyName"
                    type="text"
                  />
                </div>
              </div>
              <br />
              <div class="py-1">
                <div class="row input-style">
                  <p class="col-lg-6 no-change m-0 title col-4 p-input-style">
                    Role
                  </p>
                  <input
                    class="col-lg-8 form-control my-0 py-0"
                    [ngModelOptions]="{ standalone: true }"
                    ngDefaultControl
                    [(ngModel)]="role"
                    name="role"
                    type="text"
                  />
                </div>
              </div>
              <br />
            </div>
            <div class="col-lg-6">
              <br />
              <div class="py-1">
                <div class="row input-style">
                  <p class="col-lg-6 no-change m-0 title col-4 p-input-style">
                    Last Logged In
                  </p>
                  <input
                    class="col-lg-8 form-control my-0 py-0"
                    [ngModelOptions]="{ standalone: true }"
                    ngDefaultControl
                    [(ngModel)]="lastLoggedIn"
                    name="lastLoggedIn"
                    type="date"
                  />
                </div>
              </div>
              <br />
              <div class="py-1">
                <div class="row input-style">
                  <p class="col-lg-6 no-change m-0 title col-4 p-input-style">
                    Created At
                  </p>
                  <input
                    class="col-lg-8 form-control my-0 py-0"
                    [ngModelOptions]="{ standalone: true }"
                    ngDefaultControl
                    [(ngModel)]="createdAt"
                    name="createdAt"
                    type="date"
                  />
                </div>
              </div>
              <br />
              <div class="py-1">
                <div class="row input-style">
                  <p class="col-lg-6 no-change m-0 title col-4 p-input-style">
                    Updated At
                  </p>
                  <input
                    class="col-lg-8 form-control my-0 py-0"
                    [ngModelOptions]="{ standalone: true }"
                    ngDefaultControl
                    [(ngModel)]="updatedAt"
                    name="updatedAt"
                    value="updatedAt"
                    type="date"
                  />
                </div>
              </div>
              <br />
            </div>
          </div>
        </div>
        <hr />
        <!-- modal footer -->
        <div class="buttons">
          <button type="button" class="btn back-btn" (click)="addModal.hide()">
            Close
          </button>
          <button
            type="button"
            class="btn done-btn"
            (click)="addUser()"
            *ngIf="!edit"
          >
            Proceed
          </button>
          <button
            type="button"
            class="btn done-btn"
            (click)="editUser()"
            *ngIf="edit"
          >
            Edit
          </button>
        </div>
      </div>
    </div>
  </div>
</div>
